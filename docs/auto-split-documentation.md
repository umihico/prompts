# ドキュメント自動分割指示書

## 実行トリガー条件
- CLAUDE.mdが100行を超えた
- CLAUDE.mdに5つ以上のセクション（##）が存在する
- 1つのセクションが30行を超えた

## 分割実行手順

### 1. 現状分析
- CLAUDE.mdの行数とセクション構成を確認
- 各セクションの内容と関連性を分析
- 分割後のファイル構成を設計

### 2. 分割基準

**必須残留項目**（CLAUDE.mdに残す）
- 必須確認事項（チェックリスト形式）
- クイックリファレンス（各ドキュメントへのリンク）
- 作業完了チェックリスト

**分割対象項目例**（個別ファイルへ移動）
- プロジェクト概要 → `docs/overview.md`
- ディレクトリ構造 → `docs/structure.md`
- 開発コマンド、ワークフロー → `docs/development.md`
- トラブルシューティング → `docs/troubleshooting.md`
- 更新履歴 → `docs/changelog.md`
- その他の詳細情報 → 適切な名前の個別ファイル

### 3. 実装手順
1. TodoWriteツールで作業リストを作成
2. 各セクションの内容を分析
3. 新規ドキュメントファイルを作成（内容は簡潔に）
4. CLAUDE.mdを最小化（以下のテンプレート使用）
5. 相互参照の整合性を確認

### 4. CLAUDE.md最小化テンプレート

```markdown
# [プロジェクト名] Documentation

## 🚨 必須確認事項
以下のドキュメントを**必ず**読んでから作業を開始：
- [ ] `@docs/[重要ドキュメント1]` - [説明]
- [ ] `@docs/[重要ドキュメント2]` - [説明]

## クイックリファレンス
- プロジェクト概要: `@docs/overview.md`
- ディレクトリ構造: `@docs/structure.md`
- [カテゴリ]: `@docs/[ファイル名].md`

## 緊急時の対応
```bash
# 最も重要なコマンドのみ記載
[コマンド]
```

## 作業完了チェックリスト
- [ ] 新規ファイル作成 → `docs/structure.md`に追加
- [ ] 変更完了 → `docs/changelog.md`に記録
```

### 5. 品質基準
- 各ファイルは50行以内を目標
- 1つのトピックに1つのファイル
- ファイル名は内容を明確に表す
- 相互参照は`@`記法で統一
- 重複内容は完全に排除

### 6. 実行確認
分割実行前に以下を自問：
- [ ] 本当に分割が必要か？（100行超 or 5セクション超）
- [ ] 分割により可読性が向上するか？
- [ ] 必須情報の見落としリスクが減るか？
