---
description: 
globs: 
alwaysApply: false
---
このドキュメントを参照したら、必ず以下の手順でPromptされたファイル名、またはステージされているファイルでコミットを実行してください。コミットの実行は必須です

重要：ユーザーから特定のファイル名が明示された指示の場合（例：「.agent/commit.mdを修正して」またはファイル名のみのPromptも含む）は、
   - 指定されたファイルのみを対象とし、他のファイルへのgit add/resetは行わないでください
   - `git add .`のような包括的なコマンドは使用しないでください

ハングしないようにgitコマンドのpagerを常に無効にしてください。

1. 最初に現在の変更内容をgit diff --cachedでステージの差分まで全て確認してください。
2. 次に把握した変更内容に基づき、適切なコミットタイプのプレフィックス（feat:, fix:, doc:, chore:, refactor:, perf:, test:, style:, ci:, revert:, etc.）を決定してください
3. 次に以下のルールに基づいて、明確で簡潔なコミットメッセージを考案するステップを設けてください
   - 「何を」変更されたかではなく、背景にある「なぜ」を推測して記述してください。細かく複数の具体的な内容をコミットメッセージにするよりも、変更から総じて得られるであろう抽象的な成果物がなにかを考案して記述してください。
   - 「XXを更新」「XXを改善」という具体的なhowが無いコミットメッセージは禁止です。「XXがYYになるように改善など」など常に主語と、そのhow、またはbefore/afterで何が違うのかをコミットメッセージに含めてください。
4. 最後にコミットを実行してください。またdocumentの更新のみであれば、--no-verifyオプションをつけて高速にコミットを実行してください。通常の機能やテストの変更では--no-verifyの利用は禁止です。

コミット時に実行されるスクリプト（pre-commit hook等）でエラーが発生した場合は、エラーメッセージを確認して必要な修正を行ってください。修正後は、修正したファイルをgit addしてから再度コミットを試みてください。

重要：このドキュメントを参照したら、必ずコミットを実行してください。コミットを実行しないことは許されません。コミットを実行できない場合は、その理由を明確に説明し、ユーザーの承認を得てください。
