---
description:
globs:
alwaysApply: false
---
このドキュメントを参照したら、必ず以下の手順でPromptされたファイル名、またはステージされているファイルでコミットを実行してください。コミットの実行は必須です

**🚨 重要：git add時の絶対ルール 🚨**
1. **コミット前に必ず `git status` を実行**して、変更されたファイル一覧を確認してください
2. **会話の文脈から対象ファイルを判断**してください：
   - 直前の会話で特定のファイルについて作業していた場合、そのファイルのみが対象です
   - ユーザーから明示的に「全部」「すべて」等の指示がない限り、**絶対に `git add .` や `git add -A` を使用しないでください**
3. **対象ファイルのみを個別に `git add <ファイルパス>` で指定**してください
4. 他に変更されているファイルがあっても、**絶対に触らないでください**

例：
- 「fileA.pyのバグを修正して、コミットして」→ `git add path/to/fileA.py` のみ
- 「コミットしてくれ」（直前にfileB.pyを編集）→ `git add path/to/fileB.py` のみ
- 「全部コミットして」→ 全ファイルを確認後、明示的に承認を得てから実行

ハングしないようにgitコマンドのpagerを常に無効にしてください。

1. **最初に `git status` を実行**して、変更されたファイル一覧を確認してください。
2. **会話の文脈から対象ファイルを特定**し、ユーザーに確認してください（不明な場合のみ）。
3. 次に現在の変更内容をgit diff --cachedでステージの差分まで全て確認してください。
4. 次に把握した変更内容に基づき、適切なコミットタイプのプレフィックス（feat:, fix:, doc:, chore:, refactor:, perf:, test:, style:, ci:, revert:, etc.）を決定してください
5. 次に以下のルールに基づいて、明確で簡潔なコミットメッセージを考案するステップを設けてください
   - 「何を」変更されたかではなく、背景にある「なぜ」を推測して記述してください。細かく複数の具体的な内容をコミットメッセージにするよりも、変更から総じて得られるであろう抽象的な成果物がなにかを考案して記述してください。
   - 「XXを更新」「XXを改善」という具体的なhowが無いコミットメッセージは禁止です。「XXがYYになるように改善など」など常に主語と、そのhow、またはbefore/afterで何が違うのかをコミットメッセージに含めてください。
6. 最後にコミットを実行してください。またdocumentの更新のみであれば、--no-verifyオプションをつけて高速にコミットを実行してください。通常の機能やテストの変更では--no-verifyの利用は禁止です。

コミット時に実行されるスクリプト（pre-commit hook等）でエラーが発生した場合は、エラーメッセージを確認して必要な修正を行ってください。修正後は、修正したファイルをgit addしてから再度コミットを試みてください。

重要：このドキュメントを参照したら、必ずコミットを実行してください。コミットを実行しないことは許されません。コミットを実行できない場合は、その理由を明確に説明し、ユーザーの承認を得てください。
